import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.cfbd61a4.js";const p="/personalblog2/assets/1662436571338.c1c193aa.png",o="data:image/png;base64,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",F=JSON.parse('{"title":"调用栈（Call Stack）","description":"","frontmatter":{},"headers":[],"relativePath":"pages/js_gj/js_callstack.md","filePath":"pages/js_gj/js_callstack.md","lastUpdated":null}'),e={name:"pages/js_gj/js_callstack.md"},c=l(`<h1 id="调用栈-call-stack" tabindex="-1">调用栈（Call Stack） <a class="header-anchor" href="#调用栈-call-stack" aria-label="Permalink to &quot;调用栈（Call Stack）&quot;">​</a></h1><h2 id="什么是调用栈" tabindex="-1">什么是调用栈 <a class="header-anchor" href="#什么是调用栈" aria-label="Permalink to &quot;什么是调用栈&quot;">​</a></h2><ul><li>调用栈（Call Stack）是js解释器追踪函数执行流程的一种机制。</li><li>当执行环境中调用了多个函数]时，通过这种机制，我们能够追踪到哪个函数正在执行，执行的函数体中又调用了哪个函数,可知道代码的执行流程，也利于bug的查找。</li></ul><blockquote><p>JS引擎是单线程，意味着只有一个调用栈</p></blockquote><p>示例： 函数A中调用函数B,函数B中调用了函数C。</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">A</span><span style="color:#E1E4E8;">(){</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;A&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">B</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">B</span><span style="color:#E1E4E8;">(){</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;B&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">C</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">C</span><span style="color:#E1E4E8;">(){</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;C&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">A</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;A&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">B</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">B</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;B&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">C</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">C</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;C&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">A</span><span style="color:#24292E;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>上述代码在执行调用栈中调用过程如下：</p><p><img src="https://cdn.nlark.com/yuque/0/2022/png/26361372/1646383890434-a06a4fdc-8879-49d6-a848-bf267cd16c99.png" alt="img"></p><p>栈结构特点： 先进后出，后进先出。</p><ol><li>全局代码（script）首先产生一个全局执行上下文（全局环境-main)压入调用栈的底部</li><li>每调用一个函数，该函数就会压入到调用栈的顶部</li><li>当某个函数执行完毕之后，此函数就会出栈。其函数内部的局部变量都会被销毁。</li><li>当所有的函数执行完毕之后，只剩下全局上下文了。</li><li>全局上下文只有用户关闭浏览器才会被释放</li></ol><p>可在代码中（debugger;）进行打断点调试，便可以看到浏览器中调用栈：</p><p><img src="https://cdn.nlark.com/yuque/0/2022/png/26361372/1646383902263-77b2ca83-27cd-497a-9cc3-163bc8d00eb8.png" alt="img"></p><h1 id="断点调试" tabindex="-1">断点调试 <a class="header-anchor" href="#断点调试" aria-label="Permalink to &quot;断点调试&quot;">​</a></h1><p>介绍：</p><p>断点调试是指自己在程序的某一行设置一个断点，调试时，程序运行到这一行就会停住，然后你可以一步一步往下调试，调试过程中可以看各个变量当前的值，出错的话，调试到出错的代码行即显示错误，停下。</p><p>多数用于分析某段js代码或一个js库（如：Vue库）的源代码是如何一步步执行的，那么就可以使用断点调试进行代码追踪分析。</p><p>代码中进行断点调试：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">debugger; // 打断点调试，代码执行这里，会直接停下。通过按钮逐步往下执行</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">debugger; // 打断点调试，代码执行这里，会直接停下。通过按钮逐步往下执行</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>也可以通过浏览器进行断点调试</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">浏览器中按F12</span><span style="color:#F97583;">--&gt;</span><span style="color:#E1E4E8;">sources</span><span style="color:#F97583;">--&gt;</span><span style="color:#E1E4E8;">找到需要调试的文件</span><span style="color:#F97583;">--&gt;</span><span style="color:#E1E4E8;">在程序的某一行点击设置断点</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">浏览器中按F12</span><span style="color:#D73A49;">--&gt;</span><span style="color:#24292E;">sources</span><span style="color:#D73A49;">--&gt;</span><span style="color:#24292E;">找到需要调试的文件</span><span style="color:#D73A49;">--&gt;</span><span style="color:#24292E;">在程序的某一行点击设置断点</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如下图步骤：</p><p><img src="`+p+'" alt="1662436571338"></p><p>几个常用断点按钮说明：</p><p><img src="'+o+`" alt="1662435489568">、</p><p>第一个按钮：停止。</p><p>第二个按钮: 逐语句执行。但不会进入到函数内部。</p><p>第三个按钮: 逐语句执行。会进入到函数内部。</p><p>注意：</p><ul><li>js引擎是单线程：意味着同一时刻只能做一件事件。即js种只有一个call Stack(执行栈)</li><li>当分配的调用栈空间被占满时，会引发“堆栈溢出（RangeError: Maximum call stack size exceeded）”错误</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">function foo(){</span></span>
<span class="line"><span style="color:#e1e4e8;">	// debugger;</span></span>
<span class="line"><span style="color:#e1e4e8;">	foo(); // 递归调用,即自己调用自己 RangeError: Maximum call stack size exceeded</span></span>
<span class="line"><span style="color:#e1e4e8;">}</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">foo()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">function foo(){</span></span>
<span class="line"><span style="color:#24292e;">	// debugger;</span></span>
<span class="line"><span style="color:#24292e;">	foo(); // 递归调用,即自己调用自己 RangeError: Maximum call stack size exceeded</span></span>
<span class="line"><span style="color:#24292e;">}</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">foo()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="js严格模式" tabindex="-1">JS严格模式 <a class="header-anchor" href="#js严格模式" aria-label="Permalink to &quot;JS严格模式&quot;">​</a></h1><p>介绍：</p><ol><li>严格模式通过<strong>抛出错误</strong>来消除了一些原有<strong>静默错误</strong>。</li><li>严格模式修复了一些导致 JavaScript 引擎难以执行优化的缺陷：有时候，相同的代码，严格模式可以比非严格模式下<strong>运行得更快</strong></li></ol><p>开启严格模式：</p><ul><li>整个脚本开启严格模式</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">&quot;use strict&quot;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">&lt;/script&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#24292e;">&quot;use strict&quot;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">&lt;/script&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>函数内开启</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">function foo(){</span></span>
<span class="line"><span style="color:#e1e4e8;"> &quot;use strict&quot;;</span></span>
<span class="line"><span style="color:#e1e4e8;">   </span></span>
<span class="line"><span style="color:#e1e4e8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">function foo(){</span></span>
<span class="line"><span style="color:#24292e;"> &quot;use strict&quot;;</span></span>
<span class="line"><span style="color:#24292e;">   </span></span>
<span class="line"><span style="color:#24292e;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在严格模式下的，常见的变化有：</p><ul><li><p>声明变量不加关键字var或let，抛出异常</p></li><li><p>全局中this不再是window，而是指向undefined</p><blockquote><p>补充：在全局中定义的函数和和var声明变量都将会成为window对象的全局属性</p></blockquote></li><li><p>不能通过detete删除普通变量。注：但删除对象属性是可以的</p></li><li><p>call或apply传递的第一个参数若是null或undefined，则this指向不在是window,而变为传谁就是谁。</p><blockquote><p>非严格模式，call或apply若第一个参数是null或undefined或其他基本类型，底层会把其参数转成对象形式。 null或undefined会变为 window, 其他类型，会通过构造器new操作转成一个对象</p><p>严格模式是不会转化的。</p></blockquote></li><li><p>....</p></li></ul><p>示例</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#6A737D;">// 开启严格模式</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;use strict&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 未使用关键字声明变量</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> abc </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">123</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(abc);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(){</span></span>
<span class="line"><span style="color:#E1E4E8;">    	console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 严格模式指向undefined</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(); </span><span style="color:#6A737D;">// this =&gt; undefined</span></span>
<span class="line"><span style="color:#E1E4E8;">    test.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// this =&gt; null</span></span>
<span class="line"><span style="color:#E1E4E8;">    test.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(window); </span><span style="color:#6A737D;">// this =&gt; window</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 不可以删除普通变量</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// var a = 10;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// delete a;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// console.log(a);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// 删除对象属性是可以的</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {a:</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,b:</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">delete</span><span style="color:#E1E4E8;"> obj.a;</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(obj); </span><span style="color:#6A737D;">// {b:2}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;"> &lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#6A737D;">// 开启严格模式</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;use strict&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">     </span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 未使用关键字声明变量</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> abc </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">123</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(abc);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    	console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 严格模式指向undefined</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(); </span><span style="color:#6A737D;">// this =&gt; undefined</span></span>
<span class="line"><span style="color:#24292E;">    test.</span><span style="color:#6F42C1;">call</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// this =&gt; null</span></span>
<span class="line"><span style="color:#24292E;">    test.</span><span style="color:#6F42C1;">call</span><span style="color:#24292E;">(window); </span><span style="color:#6A737D;">// this =&gt; window</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 不可以删除普通变量</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// var a = 10;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// delete a;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// console.log(a);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// 删除对象属性是可以的</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {a:</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,b:</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> obj.a;</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(obj); </span><span style="color:#6A737D;">// {b:2}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;"> &lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>什么时候call或apply第一个参数传递null？</p><p>如果只是想调用函数并无须改变this的指向，这时候一般第一个参数写null即可。作为占位即可。</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> arr </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// 最小值</span></span>
<span class="line"><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(Math.</span><span style="color:#B392F0;">min</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">)) </span><span style="color:#6A737D;">// 1</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(Math.min.</span><span style="color:#B392F0;">apply</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, arr)) </span><span style="color:#6A737D;">// 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(Math.</span><span style="color:#B392F0;">max</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">)) </span><span style="color:#6A737D;">// 3</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(Math.max.</span><span style="color:#B392F0;">apply</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, [</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">])) </span><span style="color:#6A737D;">// 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sum</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">b</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(a </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> b)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#B392F0;">sum</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 一般调用</span></span>
<span class="line"><span style="color:#6A737D;">//  高级调用形式</span></span>
<span class="line"><span style="color:#E1E4E8;">sum.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">sum.</span><span style="color:#B392F0;">apply</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, [</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">])</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> arr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6A737D;">// 最小值</span></span>
<span class="line"><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(Math.</span><span style="color:#6F42C1;">min</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">)) </span><span style="color:#6A737D;">// 1</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(Math.min.</span><span style="color:#6F42C1;">apply</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, arr)) </span><span style="color:#6A737D;">// 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(Math.</span><span style="color:#6F42C1;">max</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">)) </span><span style="color:#6A737D;">// 3</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(Math.max.</span><span style="color:#6F42C1;">apply</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, [</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">])) </span><span style="color:#6A737D;">// 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sum</span><span style="color:#24292E;">(</span><span style="color:#E36209;">a</span><span style="color:#24292E;">, </span><span style="color:#E36209;">b</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(a </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> b)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">sum</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 一般调用</span></span>
<span class="line"><span style="color:#6A737D;">//  高级调用形式</span></span>
<span class="line"><span style="color:#24292E;">sum.</span><span style="color:#6F42C1;">call</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">sum.</span><span style="color:#6F42C1;">apply</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, [</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h1 id="对象通过key访问value的几种形式" tabindex="-1">对象通过key访问value的几种形式 <a class="header-anchor" href="#对象通过key访问value的几种形式" aria-label="Permalink to &quot;对象通过key访问value的几种形式&quot;">​</a></h1><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> { name: </span><span style="color:#9ECBFF;">&#39;豪哥&#39;</span><span style="color:#E1E4E8;">, age: </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">//   访问对象的name属性</span></span>
<span class="line"><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(obj.name)</span></span>
<span class="line"><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(obj[</span><span style="color:#9ECBFF;">&#39;name&#39;</span><span style="color:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> key </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;name&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(obj[key])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//   设置对象属性</span></span>
<span class="line"><span style="color:#6A737D;">//   obj.sex = &#39;人妖&#39;</span></span>
<span class="line"><span style="color:#6A737D;">//   obj[&#39;sex&#39;] = &#39;人妖&#39;</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> key1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;sex&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">obj[key1] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;人妖&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(obj)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//   小结：基于变量对对象进行存取必须通过 对象名[变量名] 形式来完成</span></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> k </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> obj) {</span></span>
<span class="line"><span style="color:#E1E4E8;">	console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(obj[k])</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> { name: </span><span style="color:#032F62;">&#39;豪哥&#39;</span><span style="color:#24292E;">, age: </span><span style="color:#005CC5;">20</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6A737D;">//   访问对象的name属性</span></span>
<span class="line"><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(obj.name)</span></span>
<span class="line"><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(obj[</span><span style="color:#032F62;">&#39;name&#39;</span><span style="color:#24292E;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> key </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;name&#39;</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(obj[key])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//   设置对象属性</span></span>
<span class="line"><span style="color:#6A737D;">//   obj.sex = &#39;人妖&#39;</span></span>
<span class="line"><span style="color:#6A737D;">//   obj[&#39;sex&#39;] = &#39;人妖&#39;</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> key1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;sex&#39;</span></span>
<span class="line"><span style="color:#24292E;">obj[key1] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;人妖&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(obj)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//   小结：基于变量对对象进行存取必须通过 对象名[变量名] 形式来完成</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> k </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> obj) {</span></span>
<span class="line"><span style="color:#24292E;">	console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(obj[k])</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,47),r=[c];function t(y,E,i,b,u,d){return n(),a("div",null,r)}const g=s(e,[["render",t]]);export{F as __pageData,g as default};
